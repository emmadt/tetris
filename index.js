let canvas;
let ctx;
let FPS = 50;

let ampleCanvas = 400
let altCanvas = 640

let ampleF = 40;
let altF = 40;

let ampleTaulell = 10;
let altTaulell = 16;

let peça;

let objPeça = function (){
    this.x = 0;
    this.y = 0;

    console.log("Peça creada")

    this.rotar = function (){
        console.log("ROTAR");
    }
    this.abajo = function (){
        console.log("ABAJO");
    }
    this.derecha = function (){
        console.log("DERECHA");
    }
    this.izquierda = function (){
        console.log("IZQUIERDA");
    }
}

let taulell = [
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,1],
    [1,1,1,1,1,1,1,1,1,1,1,1],
]


function inicializar(){
    canvas = document.getElementById("canvas");
    ctx = canvas.getContext("2d");

    canvas.width = ampleCanvas;
    canvas.height = altCanvas;

    peça = new objPeça()

    inicializarTeclat();

    setInterval(function(){
        principal();
    },1000/FPS

    )
}

function principal(){
    console.log("BUCLE")
    borrarPantalla();
}

function borrarPantalla(){
    canvas.width = ampleCanvas;
    canvas.height = altCanvas;

}

function inicializarTeclat(){
    document. addEventListener("keydown",function(tecla){
        if(tecla.key == "ArrowUp"){
            peça.rotar();
        }
        if(tecla.key == "ArrowDown"){
            peça.abajo();
        }
        if(tecla.key == "ArrowRight"){
            peça.derecha();
        }
        if(tecla.key == "ArrowLeft"){
            peça.izquierda();
        }

        
    })
}

let grafics = 
[ 
    [ 
        [
            [0,0,0,0],
            [0,1,1,0],
            [0,1,1,0],
            [0,0,0,0]

        ], 
        [
            [0,0,0,0],
            [0,1,1,0],
            [0,1,1,0],
            [0,0,0,0]

        ], 
        [
            [0,0,0,0],
            [0,1,1,0],
            [0,1,1,0],
            [0,0,0,0]

        ], 
        [
            [0,0,0,0],
            [0,1,1,0],
            [0,1,1,0],
            [0,0,0,0]

        ]

  ],
  [ 
    [
        [0,1,0,0],
        [0,1,0,0],
        [0,1,1,0],
        [0,0,0,0]

    ], 
    [
        [0,0,0,0],
        [0,1,1,1],
        [0,1,0,0],
        [0,0,0,0]

    ], 
    [
        [0,0,0,0],
        [0,1,1,0],
        [0,0,1,0],
        [0,0,1,0]

    ], 
    [
        [0,0,0,0],
        [0,0,0,1],
        [0,1,1,1],
        [0,0,0,0]

    ]

],
[ 
    [
        [0,1,0,0],
        [0,1,0,0],
        [0,1,0,0],
        [0,1,0,0]

    ], 
    [
        [0,0,0,0],
        [1,1,1,1],
        [0,0,0,0],
        [0,0,0,0]

    ], 
    [
        [0,1,0,0],
        [0,1,0,0],
        [0,1,0,0],
        [0,1,0,0]

    ], 
    [
        [0,0,0,0],
        [1,1,1,1],
        [0,0,0,0],
        [0,0,0,0]

    ]

],
[ 
    [
        [0,1,1,0],
        [1,1,0,0],
        [0,0,0,0],
        [0,0,0,0]

    ], 
    [
        [1,0,0,0],
        [1,1,0,0],
        [0,1,0,0],
        [0,0,0,0]

    ], 
    [
        [0,1,1,0],
        [1,1,0,0],
        [0,0,0,0],
        [0,0,0,0]

    ], 
    [
        [1,0,0,0],
        [1,1,0,0],
        [0,1,0,0],
        [0,0,0,0]

    ]

],
[ 
    [
        [0,1,1,0],
        [0,0,1,1],
        [0,0,0,0],
        [0,0,0,0]

    ], 
    [
        [0,0,0,1],
        [0,0,1,1],
        [0,0,1,0],
        [0,0,0,0]

    ], 
    [
        [0,1,1,0],
        [0,0,1,1],
        [0,0,0,0],
        [0,0,0,0]

    ], 
    [
        [0,0,0,1],
        [0,0,1,1],
        [0,0,1,0],
        [0,0,0,0]


    ]

],
[ 
    [
        [0,0,1,0],
        [0,0,1,0],
        [0,1,1,0],
        [0,0,0,0]

    ], 
    [
        [0,0,0,0],
        [0,1,0,0],
        [0,1,1,1],
        [0,0,0,0]

    ], 
    [
        [0,0,0,0],
        [0,1,1,0],
        [0,1,0,0],
        [0,1,0,0]

    ], 
    [
        [0,0,0,0],
        [1,1,1,0],
        [0,0,1,0],
        [0,0,0,0]


    ]

],
[ 
    [
        [0,1,1,1],
        [0,0,1,0],
        [0,0,0,0],
        [0,0,0,0]

    ], 
    [
        [0,0,0,1],
        [0,0,1,1],
        [0,0,0,1],
        [0,0,0,0]

    ], 
    [
        [0,0,0,0],
        [0,0,1,0],
        [0,1,1,1],
        [0,0,0,0]

    ], 
    [
        [0,1,0,0],
        [0,1,1,0],
        [0,1,0,0],
        [0,0,0,0]


    ]

]

]